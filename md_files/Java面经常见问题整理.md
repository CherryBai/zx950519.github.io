# Java面经常见问题整理

## 网络
- HTTP协议2.0和1.1的区别
- TCP/IP的三次握手和四次挥手的流程和发包中字段的具体含义
- TCP当客户端执行close断开连接，但服务器没有断开会怎么样\
- 长连接和短连接
- 连接池适合长连接还是短连接
- 如何处理服务器大量端口处在timewait?
- ping通反应很快，调用远程服务反应时间很长的原因（远程服务端阻塞，本地TCP粘包）
- 大量端口处在timewait解决方案（reuse，缩短时间）

## Java基础
- Java的五个运行时异常，String为什么用final修饰
- 进程和线程的区别
- Java中四种修饰符的限制范围
- Object类中的方法
- 接口和抽象类的区别，注意JDK8的接口可以有实现
- 动态代理的两种方式，以及区别
- Java序列化的方式
- 传值和传引用的区别，Java是怎么样的，有没有传值引用
- 一个ArrayList在循环过程中删除，会不会出问题，为什么
- java中用到哪些设计模式
- Stringbuffer和Stringbuilder的区别，源码体现
- Java1.8新特性，用过流式计算吗
- Java异常体系，继承关系
- Java中final关键字作用
- Java中final关键字作用，==和equals方法区别

## JVM
- JVM的线程和操作系统线程的关系
- 什么时候发生StackOverFlow、一个线程的工作栈是多大?哪些区域会发生OOM?
- JVM的线程和操作系统线程的关系
- JVM中的类的加载，什么时候触发fullGC
- gc算法
- JVM调优，如何解决OOM
- 参考[https://github.com/doocs/jvm]

## 容器类(各种集合)
- HashMap的实现，怎么解决冲突，其他解决冲突的方法，HashMap插入时间复杂度,hashcode做异或？位运算呢？
- HashMap的原理及源码，JDK8中对HashMap做了怎样的优化
- HaspMap扩容是怎样扩容的，为什么都是2的N次幂的大小
- HashMap，HashTable，ConcurrentHashMap的区别
- HashMap在高并发下如果没有处理线程安全会有怎样的安全隐患，具体表现是什么
- HashMp底层结构，1.8为何改为尾插
- 线程安全的map有哪些，chm和synchronizdmap相比有什么缺点（分段锁的缺点）
- 极高并发下HashTable和ConcurrentHashMap哪个性能更好，为什么，如何实现的
- 使用过哪些线程安全的集合，优先队列的实现(怎么实现排序)
- TreeMap的实现，插入节点的时间复杂度
- HashMap和TreeMap的区别，以及实现
- Java集合类，List、ArrayList的实现，初始大小，空间不够的时候如何扩容
- HashMap除了线程不安全造成数据不一致之外，有没有可能造成程序异常
- 判断单链表中有没有环
- concurrenthashmap怎么实习同步？各个版本的实现方案
- linkedlist除了实现list接口，还实现了什么接口

## 计算机基础知识
- byte，short，int表示的最大数，补码反码

## 数据结构
- 红黑树的优点，介绍一下其他的平衡树，数据库索引为什么采用B+树
- 说一下知道的树结构？答树、平衡二叉树，二叉搜索树、AVL树、红黑树（忘了说B树）
- AVL树和红黑树比较
- 快速排序时间复杂度

## 研究方向及项目
- 实验室的研究方向，自己的研究方向
- 详细讲一下项目，自己的贡献，当前怎么改进项目，还有那些可以改进的地方
- github上的贡献
- 项目是怎么改进的，别人如何访问你的后台代码
- 项目中的流程，实现上的细节，改进方案
- 项目用到了哪些技术栈
- 自己未来的发展规划

## Spring家族
- 动态代理的实现方式及比较
- SpringMVC的Controller是如何将参数和前端传来的数据一一对应的
- Mybatis如何找到指定的Mapper的，如何完成查询的
- Quartz是如何完成定时任务的
- 自定义注解的实现
- Spring使用了哪些设计模式
- Spring的IOC有什么优势
- Spring如何维护它拥有的bean
- Spring的AOP
- SringMVC中的M,V,C是单例的吗
- Spring拦截器、实现了哪些方法？底层原理
- AOP如何配置，底层原理、2种动态代理，aop注解实现，xml定义切面
- Bean的作用域，单例模式是否线程安全？恶汉模式是否线程安全？bean如何结束生命周期？
- Spring事务种类，如何回滚，A方法调用B方法，在B方法中出现异常，会回滚吗？（动态代理）
- springboot和springmvc的区别
- IOC容器初始化过程，Bean的生命周期（不要背答案）

## Tomcat
- tomcat的一次访问过程，怎么实现文件断点续传
- 服务器访问量大的时候怎么处理，有没有了解负载均衡

## 即兴发挥以及场景分析
- 如何实现手机通讯录排行的功能
- 高并发场景
- 电梯调度算法
- 两个线程分别打印 1- 100，A 打印偶数， B打印奇数
- 最长递增子序列的变形
- 从浏览器输入url到页面呈现的过程？http协议在哪一层
- 统计一篇文章中出现最多的10个单词，海量数据如何解决
- n*n的棋盘,M个地雷，如何让每个格子有地雷的概率相等
- 撕代码，若干种面值的钱币，组成指定数额的方案数
- 撕代码，string转int，string可以使任意合法内容
- 设计题，机房内若干节点处于不同网管，互相不能通信，设计一个消息转发中心（维护地址列表，心跳检测，保证消息可靠新（tcp思路），高并发场景（mq））
- 设计一个脚本，抢购秒杀商品
- 手撕代码，判断二维坐标中某个点是否在某个凸多边形内部
- 两个人同时修改某个文档，如何保证一致性

## 其他框架
- 消息队列的使用，多线程怎么使用消息队列，生产者消费者模型的实现
- zookeeper实现原理，zab协议以及原子广播协议
- dubbo

## 数据库
- sql数据库和nosql数据库的区别
- 常见的数据库优化手段
- 用过哪些关系数据库？索引的好处，索引是否是越多越好
- 用过那种数据库，写个sql语句，存储引擎的区别，为什么用Innodb
- InnoDB引擎底层索引是用什么实现的
- 为什么索引可以加快查询的速度，索引失效的场景，联合索引的使用
- 索引的原理，索引的类型，讲讲倒排索引
- 悲观锁、乐观锁的区别和应用场景，哪些框架使用了悲观锁和乐观锁
- MySQL有哪几种日志，描述下
- MySQL复制原理
- Mysql不同引擎的比较，查询的优化
- 为什么用Redis比Mysql要快
- 为啥mysql索引要用B+树而MongoDB用B树
- Mysql查询优化
- mysql如何看当前有多少连接？讲讲explian
- 如何实现 MySQL 的读写分离？MySQL 主从复制原理是啥？如何解决 MySQL 主从同步的延时问题？
- 主键和唯一索引的区别
- 事务的隔离机制，mysql默认是哪一级
- mysql查询优化，慢查询怎么去定位
- mysql中的各种锁，乐观锁，悲观锁（排他锁，共享锁）；行锁，表锁是怎么实现的
- 数据库连接池
- durid的常用配置
- 事务隔离级别，脏读，幻读，讲下mvcc
- 如何防止sql注入，了解哪些加密算法，rsa过程说下
- mysql隔离级别，如何实现可重读，mvcc


## 高并发
- Java中的并发，synchronize关键字的作用，修饰方法、变量和类的区别
- 并发(线程池及实现原理)
- Java多线程机制中的Synchronized关键字和Lock类锁的区别
- Java实现多线程有哪几种方式
- Callable和Future的了解。
- 线程池的参数有哪些，在线程池创建一个线程的过程。
- volitile关键字的作用，原理。
- synchronized关键字的用法，优缺点。
- Volatile和synchronized的区别，volatile为什么不能保证原子性
- Lock接口有哪些实现类，使用场景是什么。
- 可重入锁的用处及实现原理，写时复制的过程，读写锁，分段锁（ConcurrentHashMap中的segment）。
- 悲观锁，乐观锁，优缺点，CAS有什么缺陷，该如何解决。
- ABC三个线程如何保证顺序执行。
- 线程的状态都有哪些。
- sleep和wait的区别。
- notify和notifyall的区别。
- ThreadLocal的了解，实现原理
- 高并发极小任务，如何选择线程池？换成长短不一的任务呢？（自定义任务队列）
- 如何控制多线程的执行顺序
- 原子锁和同步锁的区别，CAS底层原理
- 停止线程的方法，stop为什么不安全
- 写一个多线程死锁的例子
- java提供的四中线程池，线程池的参数

## Linux
- linux僵尸线程产生原因，如何解决
- linux命令，如何改文件权限


## 分布式
- 一下 Dubbo 的工作原理？注册中心挂了可以继续通信吗？
- Dubbo 支持哪些序列化协议？说一下 Hessian 的数据结构？PB 知道吗？为什么 PB 的效率是最高的？
- Dubbo 负载均衡策略和集群容错策略都有哪些？动态代理策略呢？
- Dubbo 的 spi 思想是什么？
- 如何基于 Dubbo 进行服务治理、服务降级、失败重试以及超时重试？
- 分布式服务接口的幂等性如何设计（比如不能重复扣款）？
- 分布式服务接口请求的顺序性如何保证？
- 如何自己设计一个类似 Dubbo 的 rpc 框架？
- dubbo的组件有哪些，各有什么作用。
- dubbo是如何利用接口就可以通信的
- 讲一下dubbo，rpc调用具体过程
- 分布式事务的控制。
- 分布式锁如何设计。
- 分布式session如何设计。
- zookeeper的负载均衡算法有哪些。
- Zookeeper 都有哪些应用场景？
- 使用 Redis 如何设计分布式锁？使用 Zookeeper 来设计分布式锁可以吗？以上两种分布式锁的实现方式哪种效率比较高？
- 分布式事务了解吗？你们如何解决分布式事务问题的？TCC 如果出现网络连不通怎么办？XA 的一致性如何保证？
- 集群部署时的分布式 Session 如何实现？

## 消息队列
- 什么使用消息队列？消息队列有什么优点和缺点？Kafka、ActiveMQ、RabbitMQ、RocketMQ 都有什么优点和缺点？
- 何保证消息队列的高可用？
- 如何保证消息不被重复消费？（如何保证消息消费时的幂等性）
- 如何保证消息的可靠性传输？（如何处理消息丢失的问题）
- 如何保证消息的顺序性？
- 如何解决消息队列的延时以及过期失效问题？消息队列满了以后该怎么处理？有几百万消息持续积压几小时，说说怎么解决？
- 如果让你写一个消息队列，该如何进行架构设计啊？说一下你的思路。

## Redis
- Redis在哪儿使用，怎么更新缓存，Redis的数据类型
- Redis底层机制有了解吗
- redis和memcached的区别
- redis支持哪些数据结构
- redis是单线程的么，所有的工作都是单线程么
- redis如何存储一个String的
- redis的部署方式，主从，集群
- redis的哨兵模式，一个key值如何在redis集群中找到存储在哪里
- redis持久化策略
- 项目中缓存是如何使用的？缓存如果使用不当会造成什么后果
- Redis 和 Memcached 有什么区别？Redis 的线程模型是什么？为什么单线程的 Redis 比多线程的 Memcached 效率要高得多
- Redis 都有哪些数据类型？分别在哪些场景下使用比较合适
- Redis 的过期策略都有哪些？手写一下 LRU 代码实现
- 如何保证 Redis 高并发、高可用？Redis 的主从复制原理能介绍一下么？Redis 的哨兵原理能介绍一下么
- Redis 的持久化有哪几种方式？不同的持久化机制都有什么优缺点？持久化机制具体底层是如何实现的
- Redis 集群模式的工作原理能说一下么？在集群模式下，Redis 的 key 是如何寻址的？分布式寻址都有哪些算法？了解一致性 hash 算法吗？如何动态增加和删除一个节点？
- 了解什么是 Redis 的雪崩和穿透？Redis 崩溃之后会怎么样？系统该如何应对这种情况？如何处理 Redis 的穿透
- 如何保证缓存与数据库的双写一致性
- Redis 的并发竞争问题是什么？如何解决这个问题？了解 Redis 事务的 CAS 方案吗
- 生产环境中的 Redis 是怎么部署的
- Redis五中数据结构，如何设置过期键

## 设计模式

## 通用算法
- Top-K问题的几种实现方式
- 两串数字找同时出现的
- B+树
- 八大排序
- 一致性Hash算法，一致性Hash算法的应用
- 缓存中维护100个键值对（LRU算法）
- BFS和DFS的区别
- 三个线程交替打印123
- 判断链表是否有环
- 定义链表数据结构
- 无序单链表排序
- 单链表如何逆转
- 字符串右移n位（3个reverse）
- 二叉树层次打印（保存每层count）
- 两个日期计算间隔天数

## 别人的一些整理
```
1、Java基础 http://note.youdao.com/noteshare?id=7ccb7bec86539cd6a44cf81af119060d&sub=002F322E68B04A3AA750296306EF9A0B
2、Java虚拟机 http://note.youdao.com/noteshare?id=920f10f97acfc22fe0c27cc52a97cb28&sub=AA3A969C239C42B0A7998CFA700D9139
3、操作系统 && 计算机网络 http://note.youdao.com/noteshare?id=1665ad9154f4ed041910364a9aa1e336&sub=DA017A7E6B4646E683C5F69D7D5406F7
4、数据库 http://note.youdao.com/noteshare?id=96920e055ee2c654ada64b031cefec78&sub=0644AC94C7774A4581726BA39DB94DF5
5、并发 http://note.youdao.com/noteshare?id=cc25598bbaff18a55569c256de4cf1c6&sub=111CF3E587FA47EABC955F368796D82A
6、设计模式 http://note.youdao.com/noteshare?id=21b940eac79a3b8042997a7373aad144&sub=32EFA09E0CC3496481C40FC90F177D6A
7、Linux http://note.youdao.com/noteshare?id=7d073d849ae46be7f44fe31c7eed3fdc&sub=72E25B82EC0F4E56BEB89AA45B4E8AA4
8、Spring http://note.youdao.com/noteshare?id=1e95389cc59104d17a0a5d41dbe9507c&sub=39DA9F6889AD45C1B09E01958FBE3F0E
```

## 整体注意事项
```
1.简历要准备好，联系方式一定要正确清晰醒目，项目经历按照时间倒序阐述，注意描述自己在项目中承担的职责，简历的模板尽量选择简洁的，毕竟程序员大部分还是喜欢简单明了的。
2.推荐boss直聘，我觉得很好用（不是广告）。
3.一般的整体面试流程都是电面->现场面->HR面->等着。
4.不要觉得HR说让你回去等消息就是GG了，他们也要跟你之前的面试官讨论，再向领导汇报，如果说不急可能还要和其他候选人比较，所以HR让你回去等消息绝对不是说明你完蛋了。
5.面试前准备好自我介绍，1分钟左右就可以，可以写在纸上，电面可以照着念，等你到了现场面了基本也都快背下来你的自我介绍了。
6.准备好扎实的基础，这是一切的根源，没实力怎么都没用的。
7.面试中你可以把你的面试官往你会的知识上引导（我遇到过你会什么他不问什么的）。
8.遇到了设计类题目不要着急，面试官不是为了让你几分钟设计一个高并发高可用设计模式完美的架构，只是想看看你的思路，看看你应变的能力，然后给你些提示看看你能否迅速的调整。
9.offer都会有的，不要着急，把面试当成一个交流的过程。
```

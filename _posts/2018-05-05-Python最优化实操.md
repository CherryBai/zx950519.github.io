---
layout:     post
title:      Python最优化实操
subtitle:   魔改教科书——《最优化方法及其MATLAB程序设计》
date:       2018-05-05
author:     Alitria
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - Python
    - 最优化
---

## 无约束优化问题的算法框架
- 步0：给定初始化参数以初始迭代点x0，令k=0
- 步1：若xk满足某种终止准则，停止迭代，以xk作为近似最小点
- 步2：通过求解xk处的某个子问题确定下降方向dk
- 步3：通过某种线搜索方式确定步长因子αk，使得f(xk+αk*dk) < f(xk)
- 步4：令xk+1 = xk+αk*dk, k++,转步1  
  
 代码演示  
 
```
# 定义函数
def function(x):
    return (x - 3.5)*(x - 1.5) - 1
# 获取最小值
def getMin(a, b, c):
    tmp = a
    if (b < tmp):
        tmp = b
    if (c < tmp):
        tmp = c
    return tmp
if __name__ == "__main__":
    # 初始点坐标
    x = 1570.341
    # 步长因子
    alphak = 57
    # 阈值
    throde = 1e-20
    # 初始方向
    d = 0
    # 初始重复次数，当该值累积到10以后会调整步长因子(除以10)
    theSameTime = 0

    while(True):
        tmp = getMin(function(x), function(x + alphak), function(x - alphak))
        if(abs(function(x) - tmp) <= throde):
            if(theSameTime == 10):
                theSameTime = 0
                alphak /= 10
                continue
            theSameTime += 1
        # 当步长因子小于1e-8时退出循环
        if(alphak < 1e-8):
            break
        if(function(x + alphak) == tmp):
            d = 1
            print("向右移动", "当前阈值：", throde, "当前alphaK：", alphak)
        else:
            d = -1
            print("向左移动", "当前阈值：", throde, "当前alphaK：", alphak)
        x = x + d * alphak
        print("本次循环最终值为：", x)
    print("收敛于", x)
```
```
说明：
对于步1里定义的某种准则，本程序设置当步长因子小于1e-8时退出循环，得到结果。  
对于步2里定义的确定下降方向，考虑坐标x、x+αk和x-αk对应函数值的大小确定向左移动还是向右移动。  
阈值和步长因子均为动态调整，当连续10次不发生坐标变更时调整阈值与步长因子，是结果更加精确。
```

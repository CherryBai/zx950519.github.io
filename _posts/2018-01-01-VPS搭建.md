---
layout: post
title:  "VPS搭建指南"
categories: Shell
tags:  Shell Linux
---
* content
{:toc}
记录一下阅读蝴蝶书的笔记，本篇为第一部分包含书中前三章内容：语法、对象和函数。  

# 搬瓦工VPS搭建备忘录


## 环境搭建
- 略 百度自行搜索 有待补充
## 常见命令
- 查看当前ss服务器所开放的端口:ss -lntp | grep ssserver
- 查看当前ss服务器密码:ps aux | grep ssserver
- 停止ss服务器:ssserver -c /etc/shadowsocks.json -d stop
- 以自定义配置文件启动ss服务器:ssserver -c /etc/shadowsocks.json -d start

## 自行配置
- 查看或编辑自定义配置文件:vi /etc/shadowsocks.json
- 单用户内容:
```shell
{
    "server":"my_server_ip",
    "server_port":8388,
    "local_address": "127.0.0.1",
    "local_port":1080,
    "password":"mypassword",
    "timeout":300,
    "method":"aes-256-cfb",
    "fast_open": false
}
 ```
- 多用户内容:
{
     "server":"my_server_ip"，
     "local_address": "127.0.0.1",
     "local_port":1080,
      "port_password": {
         "8381": "foobar1",
         "8382": "foobar2",
         "8383": "foobar3",
         "8384": "foobar4"
     },
     "timeout":300,
     "method":"aes-256-cfb",
     "fast_open": false
}
```
- 说明：未配置开机自动启动，重启机器需要手动启动ss服务器。
# 4.运行
- 先停止ss，再以自定义配置文件启动ss服务器，解决。

# 5.桌面ss配置文件：gui-config.json
```shell
{
    "configs" : [
        {
            "remarks" : "",
            "id" : "1112D7290491CF395C1CF26C8B90ACE6",
            "server" : "你的ip",
            "server_port" : 你的端口,
            "server_udp_port" : 0,
            "password" : "你的密码",
            "method" : "aes-256-cfb",
            "protocol" : "origin",
            "protocolparam" : "",
            "obfs" : "plain",
            "obfsparam" : "",
            "remarks_base64" : "",
            "group" : "FreeSSR-public",
            "enable" : true,
            "udp_over_tcp" : false
        }
    ],
    "index" : 0,
    "random" : true,
    "sysProxyMode" : 3,
    "shareOverLan" : false,
    "localPort" : 1080,
    "localAuthPassword" : "uzoVcTobykqALOGtdOQ6",
    "dnsServer" : "",
    "reconnectTimes" : 2,
    "randomAlgorithm" : 3,
    "randomInGroup" : false,
    "TTL" : 0,
    "connectTimeout" : 5,
    "proxyRuleMode" : 2,
    "proxyEnable" : false,
    "pacDirectGoProxy" : false,
    "proxyType" : 0,
    "proxyHost" : null,
    "proxyPort" : 0,
    "proxyAuthUser" : null,
    "proxyAuthPass" : null,
    "proxyUserAgent" : null,
    "authUser" : null,
    "authPass" : null,
    "autoBan" : false,
    "sameHostForSameTarget" : false,
    "keepVisitTime" : 180,
    "isHideTips" : false,
    "nodeFeedAutoUpdate" : true,
    "serverSubscribes" : [

    ],
    "token" : {

    },
    "portMap" : {

    }
}
```
